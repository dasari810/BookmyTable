{% extends '../base.html' %}

{% block title  %}
    home  
{% endblock title  %}

{% load static %}

{% block style  %}
    <link rel="stylesheet" href="">
{% endblock style  %}

{% block content %}
<div class="container">
     {% if reservations %}
     {% for reservation in reservations %}
     <div class="modal fade" id="book" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Reservation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
           <form action="/edit_reservation/{{ res.id }}" method="post">
            {% csrf_token %}
            <div class="form-group">
               <div class="mb-4">
                    <input type="date" name="date" required min="2020-11-21" placeholder="Choose a reservation date" class="form-control py-4 px-4">
                </div>
                <div class="form-group">
                        <select name="time" placeholder="Choode time" required class="form-control" value="{{ state }}">
                            <option value="9:30">9:30 PM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="10:30">10:30 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="11:30">11:30 AM</option>
                            <option value="12:00">12:00 NOON</option>
                            <option value="12:30">12:30 PM</option>
                            <option value="13:00">1:00 PM</option>
                            <option value="13:30">1:30 PM</option>
                            <option value="14:00">2:00 PM</option>
                            <option value="14:30">2:30 PM</option>
                            <option value="15:00">3:00 PM</option>
                            <option value="15:30">3:30 PM</option>
                            <option value="16:00">4:00 PM</option>
                            <option value="16:30">4:30 PM</option>
                            <option value="17:00">5:00 PM</option>
                            <option value="17:30">5:30 PM</option>
                            <option value="18:00">6:00 PM</option>
                            <option value="18:30">6:30 PM</option>
                            <option value="19:00">7:00 PM</option>
                            <option value="19:30">7:30 PM</option>
                            <option value="20:00">8:00 PM</option>
                            <option value="20:30">8:30 PM</option>
                            <option value="21:00">9:00 PM</option>

                          </select>
                            </div>
            </div>
            <div class="form-group">
              <input class="form-control" required type="number" placeholder="no of people" id="quantity" name="no_of_people" min="1" max="5">
            </div>
            <div class="form-group">
              <button
                type="submit"
                class="btn btn-primary btn-lg btn-block login-btn"
              >
                Confirm
              </button>
            </div>
             </form>
         
        </div>
        
      </div>
    </div>
  </div>
     <div class="row justify-content-center align-items-center mt-2">
        <div class="card shadow-lg" style="width: 900px;">

          <div class="card-body">
          <div class="time d-flex flex-row align-items-center justify-content-between mt-1">
              <h5 class="card-title">{{ reservation.restaurant.name }}</h5>
              <div class="d-flex align-items-center"> </div>
              <div> <button type="button" class="btn btn-info">  at : {{ reservation.date }} | {{ reservation.time }}</button> </div>
            </div>
             <p >
              booked at : {{ reservation.booked_date }}
            </p>
             <p >
              for  {{ reservation.no_of_people }}  people 
            </p>
            <div class="time d-flex flex-row align-items-center justify-content-between mt-1">
             <p >
              status :
              {% if  reservation.status %}
               <a class="badge badge-success">Confirmed</a>
              {% else %}
              <a  class="badge badge-warning">Pending</a> 
              {% endif %}
            </p>
              <div class="d-flex align-items-center"> </div>
              {% if reservation.is_active %}
              <div>
              <div style="display: inline-block;" >
              <form action="/reservation_edit/{{ reservation.id }}" method="">
              <button type="submit"  class="btn btn-primary mx-2">Edit</button> 
              </form>
             </div>
             <div style="display: inline-block;" >
              <form action="/reservation_delete/{{ reservation.id }}">
               {% csrf_token %}
              <button type="submit" class="btn btn-danger mx-2">Delete</button> 
              </form>
             </div>
              {% endif %}
              <div>
            </div>
             </div>
          </div>
        </div>
      </div>
     {% endfor %}
     {% else %}
        <div class="row justify-content-center align-items-center mt-2">
        <div class="card shadow-lg" style="width: 900px;">

          <div class="card-body">
          <div class="time d-flex flex-row align-items-center justify-content-between mt-1">
          {% if is_active %}
              <div class="card-title">There are No active Reservations currently  ! .. Start making reservation to see them here </div>
              {% else %}
              <div class="card-title">There are No active Reservations currently  ! .. Start making reservation to see them here </div>
            {% endif %}
          </div>
        </div>
      </div>
      {% endif %}
</div>
{% endblock content %}